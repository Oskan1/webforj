window.Dwcj=window.Dwcj||{},Dwcj.WcConnector=(()=>{let e=e=>document.querySelector(`[dwcj-hv="${e}"]`),t=e=>document.querySelector(`[dwcj-wc="${e}"]`),n=e=>e.includes("return")?e:`return ${e};`,r=e=>{let t={};for(let n in e)t[n]=e[n];return JSON.stringify(t,(e,t)=>t instanceof Node?t.nodeName:t instanceof Window?"Window":t," ")},i=(r,i)=>{let o=e(r),a=t(r);return Function("component","hv",n(atob(i)))(a,o)};return{invoke(n,r,...o){let a=e(n),l=t(n),s=r.toLowerCase();if("this"===s){let p=o.length;if(1===p)return l[o[0]];2===p&&(l[o[0]]=o[1])}else if("exp"===s)i(n,o[0]);else{let d=`component.${r}(${o.map((e,t)=>`__args__[${t}]`).join(",")})`;return Function("component","hv","__args__",d)(l,a,o)}},addEventListener(n,o,a=null){let l=e(n),s=t(n);if(s[`__dwcj__${o}__h`]){console.warn(`Duplicated listener registration for event "${o}"`,n);return}if(!l||!l.basisDispatchCustomEvent){console.warn('"basisDispatchCustomEvent" is not defined',n);return}let p=Object.assign({filter:null,detail:null,preventDefault:null,stopPropagation:null,stopImmediatePropagation:null},a),d=e=>{p.preventDefault&&i(n,p.preventDefault)&&e.preventDefault(),p.stopPropagation&&i(n,p.stopPropagation)&&e.stopPropagation(),p.stopImmediatePropagation&&i(n,p.stopImmediatePropagation)&&e.stopImmediatePropagation(),(!p.filter||i(n,p.filter))&&(p.detail&&(Object.defineProperty(e,"detail",{writable:!0,configurable:!0,enumerable:!0,value:e.detail}),e.detail=i(n,p.detail)),l.basisDispatchCustomEvent(l,{type:o,detail:JSON.parse(r(e))}))};s[`__dwcj__${o}__h`]=d,s.addEventListener(o,d)},removeEventListener(e,n){let r=t(e),i=r[`__dwcj__${n}__h`];if(!i){console.warn(`[Dwcj.WcConnector] no event listener found for event "${n}" on component with id "${e}"`);return}r.removeEventListener(n,i),delete r[`__dwcj__${n}__h`]}}})();